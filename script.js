
quizData = [
/* ======================= Science - Easy (10) ======================= */
    {question:"🪐 Which planet is called the Red Planet?", options:["Mars","Venus","Jupiter","Saturn"], answer:"Mars", hint:"4th planet from Sun", explanation:"Mars is the Red Planet.", category:"Science", level:"easy"},
    {question:"💧 Water boils at?", options:["100°C","90°C","80°C","70°C"], answer:"100°C", hint:"Standard boiling point", explanation:"Water boils at 100°C.", category:"Science", level:"easy"},
    {question:"🌱 Process by which plants make food?", options:["Photosynthesis","Respiration","Digestion","Transpiration"], answer:"Photosynthesis", hint:"Uses sunlight", explanation:"Photosynthesis uses sunlight to make food.", category:"Science", level:"easy"},
    {question:"🧬 Humans have how many chromosomes?", options:["46","44","48","42"], answer:"46", hint:"Think pairs", explanation:"Humans have 23 pairs of chromosomes.", category:"Science", level:"easy"},
    {question:"🌡️ Freezing point of water?", options:["0°C","10°C","5°C","-1°C"], answer:"0°C", hint:"Zero degrees", explanation:"Water freezes at 0°C.", category:"Science", level:"easy"},
    {question:"☀️ Star at center of solar system?", options:["Sun","Sirius","Alpha Centauri","Proxima"], answer:"Sun", hint:"It's our star", explanation:"The Sun is the center of our Solar System.", category:"Science", level:"easy"},
    {question:"⚡ Lightning is caused by?", options:["Electric discharge","Wind","Rain","Magnetism"], answer:"Electric discharge", hint:"Electricity in clouds", explanation:"Lightning is caused by electric discharge.", category:"Science", level:"easy"},
    {question:"🧪 H2O is chemical formula for?", options:["Water","Hydrogen","Oxygen","Salt"], answer:"Water", hint:"Two Hydrogen + One Oxygen", explanation:"H2O is water.", category:"Science", level:"easy"},
    {question:"🌌 Galaxy we live in?", options:["Milky Way","Andromeda","Whirlpool","Messier"], answer:"Milky Way", hint:"Spiral galaxy", explanation:"We live in the Milky Way galaxy.", category:"Science", level:"easy"},
    {question:"🌬️ Gas we exhale?", options:["Carbon Dioxide","Oxygen","Nitrogen","Hydrogen"], answer:"Carbon Dioxide", hint:"Exhaled gas", explanation:"Humans exhale CO2.", category:"Science", level:"easy"},

    /* ======================= Science - Medium (10) ======================= */
    {question:"🧪 Which element has chemical symbol 'O'?", options:["Oxygen","Gold","Osmium","Iron"], answer:"Oxygen", hint:"Essential for breathing", explanation:"Oxygen's symbol is O.", category:"Science", level:"medium"},
    {question:"🌡️ Boiling point of ethanol?", options:["78°C","100°C","90°C","85°C"], answer:"78°C", hint:"Lower than water", explanation:"Ethanol boils at 78°C.", category:"Science", level:"medium"},
    {question:"🔬 Who discovered cells?", options:["Robert Hooke","Newton","Einstein","Curie"], answer:"Robert Hooke", hint:"17th century scientist", explanation:"Hooke first observed cells in cork.", category:"Science", level:"medium"},
    {question:"🧬 DNA stands for?", options:["Deoxyribonucleic Acid","Deoxyribonitric Acid","Deoxynucleic Acid","Deoxy Acid"], answer:"Deoxyribonucleic Acid", hint:"Genetic material", explanation:"DNA is Deoxyribonucleic Acid.", category:"Science", level:"medium"},
    {question:"💥 Which gas causes acid rain?", options:["Sulfur Dioxide","Oxygen","Nitrogen","Hydrogen"], answer:"Sulfur Dioxide", hint:"SO2", explanation:"Sulfur Dioxide reacts with rainwater to form acid rain.", category:"Science", level:"medium"},
    {question:"🌡️ Human body normal temperature?", options:["37°C","36°C","35°C","38°C"], answer:"37°C", hint:"Average body temp", explanation:"Normal body temperature is 37°C.", category:"Science", level:"medium"},
    {question:"🧬 RNA is similar to DNA but contains?", options:["Uracil","Thymine","Adenine","Guanine"], answer:"Uracil", hint:"Replaces thymine", explanation:"RNA has Uracil instead of Thymine.", category:"Science", level:"medium"},
    {question:"⚡ Electrical current unit?", options:["Ampere","Volt","Ohm","Watt"], answer:"Ampere", hint:"Symbol A", explanation:"Current is measured in Amperes.", category:"Science", level:"medium"},
    {question:"🌍 Earth's atmosphere mainly contains?", options:["Nitrogen","Oxygen","Carbon Dioxide","Hydrogen"], answer:"Nitrogen", hint:"Largest portion", explanation:"78% of air is Nitrogen.", category:"Science", level:"medium"},
    {question:"💧 Water cycle includes?", options:["Evaporation","Photosynthesis","Combustion","Condensation"], answer:"Evaporation", hint:"Sun heats water", explanation:"Evaporation is part of water cycle.", category:"Science", level:"medium"},

    /* ======================= Science - Hard (10) ======================= */
    {question:"🌌 Light year measures?", options:["Distance","Time","Speed","Mass"], answer:"Distance", hint:"Distance light travels in a year", explanation:"A light year is the distance light travels in one year.", category:"Science", level:"hard"},
    {question:"⚛️ Electron has charge?", options:["Negative","Positive","Neutral","Variable"], answer:"Negative", hint:"Opposite of proton", explanation:"Electron carries a negative charge.", category:"Science", level:"hard"},
    {question:"🧪 pH of lemon juice?", options:["2","4","6","3"], answer:"2", hint:"Very acidic", explanation:"Lemon juice has a pH around 2.", category:"Science", level:"hard"},
    {question:"🌡️ Absolute zero in Celsius?", options:["-273°C","0°C","-100°C","-200°C"], answer:"-273°C", hint:"Lowest possible temp", explanation:"Absolute zero is -273°C.", category:"Science", level:"hard"},
    {question:"🔭 First person on the Moon?", options:["Neil Armstrong","Buzz Aldrin","Yuri Gagarin","John Glenn"], answer:"Neil Armstrong", hint:"Apollo 11", explanation:"Neil Armstrong was first on Moon in 1969.", category:"Science", level:"hard"},
    {question:"🧪 Chemical symbol of gold?", options:["Au","Ag","Gd","Go"], answer:"Au", hint:"From Latin 'Aurum'", explanation:"Gold's symbol is Au.", category:"Science", level:"hard"},
    {question:"⚡ Unit of electrical resistance?", options:["Ohm","Ampere","Volt","Watt"], answer:"Ohm", hint:"Symbol Ω", explanation:"Resistance is measured in Ohms.", category:"Science", level:"hard"},
    {question:"🧬 Human genome consists of approximately?", options:["3 billion base pairs","2 billion","4 billion","1 billion"], answer:"3 billion base pairs", hint:"DNA sequence length", explanation:"Human genome has ~3 billion base pairs.", category:"Science", level:"hard"},
    {question:"🌡️ Gas with highest thermal conductivity?", options:["Helium","Hydrogen","Oxygen","Nitrogen"], answer:"Hydrogen", hint:"Lightest gas", explanation:"Hydrogen has highest thermal conductivity.", category:"Science", level:"hard"},
    {question:"🔬 Nobel Prize in Physics 1921 awarded to?", options:["Einstein","Curie","Fermi","Bohr"], answer:"Einstein", hint:"Theory of Relativity", explanation:"Albert Einstein won Nobel Prize in 1921.", category:"Science", level:"hard"},

    /* ======================= Math - Easy (10) ======================= */
    {question:"5 + 7 = ?", options:["12","10","11","13"], answer:"12", hint:"Think dozen", explanation:"5 + 7 = 12.", category:"Math", level:"easy"},
    {question:"10 - 4 = ?", options:["6","7","5","4"], answer:"6", hint:"Subtraction", explanation:"10 - 4 = 6.", category:"Math", level:"easy"},
    {question:"2 x 3 = ?", options:["6","5","8","7"], answer:"6", hint:"Multiplication", explanation:"2 x 3 = 6.", category:"Math", level:"easy"},
    {question:"9 ÷ 3 = ?", options:["3","2","4","5"], answer:"3", hint:"Division", explanation:"9 ÷ 3 = 3.", category:"Math", level:"easy"},
    {question:"Square of 5?", options:["25","20","15","30"], answer:"25", hint:"Area = side²", explanation:"5² = 25.", category:"Math", level:"easy"},
    {question:"10 + 15 = ?", options:["25","20","30","15"], answer:"25", hint:"Addition", explanation:"10 + 15 = 25.", category:"Math", level:"easy"},
    {question:"7 - 2 = ?", options:["5","6","4","3"], answer:"5", hint:"Subtract", explanation:"7 - 2 = 5.", category:"Math", level:"easy"},
    {question:"3 x 4 = ?", options:["12","14","10","11"], answer:"12", hint:"Multiply", explanation:"3 x 4 = 12.", category:"Math", level:"easy"},
    {question:"8 ÷ 2 = ?", options:["4","2","3","5"], answer:"4", hint:"Divide", explanation:"8 ÷ 2 = 4.", category:"Math", level:"easy"},
    {question:"6 + 7 = ?", options:["13","12","14","11"], answer:"13", hint:"Add", explanation:"6 + 7 = 13.", category:"Math", level:"easy"},

    /* ======================= Math - Medium (10) ======================= */
    {question:"√144 = ?", options:["12","14","10","16"], answer:"12", hint:"Square root", explanation:"√144 = 12.", category:"Math", level:"medium"},
    {question:"Solve: 5x = 25", options:["5","10","15","25"], answer:"5", hint:"Divide both sides by 5", explanation:"5x = 25 ⇒ x = 5.", category:"Math", level:"medium"},
    {question:"Perimeter of rectangle 5x10?", options:["30","20","25","50"], answer:"30", hint:"2(l+w)", explanation:"Perimeter = 2(5+10) = 30.", category:"Math", level:"medium"},
    {question:"2^5 = ?", options:["32","16","64","25"], answer:"32", hint:"Power of 2", explanation:"2^5 = 32.", category:"Math", level:"medium"},
    {question:"5! = ?", options:["120","60","24","100"], answer:"120", hint:"Factorial", explanation:"5! = 5×4×3×2×1 = 120.", category:"Math", level:"medium"},
    {question:"Area of triangle base 6, height 4?", options:["12","10","14","16"], answer:"12", hint:"0.5*b*h", explanation:"Area = 0.5×6×4 = 12.", category:"Math", level:"medium"},
    {question:"7 x 8 = ?", options:["56","54","58","60"], answer:"56", hint:"Multiply", explanation:"7 x 8 = 56.", category:"Math", level:"medium"},
    {question:"15 ÷ 3 = ?", options:["5","6","4","3"], answer:"5", hint:"Division", explanation:"15 ÷ 3 = 5.", category:"Math", level:"medium"},
    {question:"Square of 12?", options:["144","124","120","140"], answer:"144", hint:"12²", explanation:"12² = 144.", category:"Math", level:"medium"},
    {question:"Cube of 3?", options:["27","9","21","30"], answer:"27", hint:"3³", explanation:"3³ = 27.", category:"Math", level:"medium"},

    /* ======================= Math - Hard (10) ======================= */
    {question:"Derivative of sin(x)?", options:["cos(x)","-sin(x)","sin(x)","-cos(x)"], answer:"cos(x)", hint:"Basic calculus", explanation:"d/dx sin(x) = cos(x).", category:"Math", level:"hard"},
    {question:"Integral of 1/x dx?", options:["ln|x| + C","x + C","1/x^2 + C","e^x + C"], answer:"ln|x| + C", hint:"Natural log", explanation:"∫1/x dx = ln|x| + C.", category:"Math", level:"hard"},
    {question:"Area of circle radius 7?", options:["154","49","44","100"], answer:"154", hint:"πr², π≈3.14", explanation:"Area = π×7² ≈ 154.", category:"Math", level:"hard"},
    {question:"Solve: 2x + 3 = 11", options:["4","5","3","6"], answer:"4", hint:"Subtract 3 and divide by 2", explanation:"2x +3=11 ⇒ 2x=8 ⇒ x=4.", category:"Math", level:"hard"},
    {question:"Log10(1000)?", options:["3","2","4","1"], answer:"3", hint:"Log base 10", explanation:"10^3 = 1000, so log10(1000)=3.", category:"Math", level:"hard"},
    {question:"Derivative of x²?", options:["2x","x","x²","2"], answer:"2x", hint:"Power rule", explanation:"d/dx x² = 2x.", category:"Math", level:"hard"},
    {question:"Integral of x dx?", options:["x²/2 + C","x² + C","x + C","2x + C"], answer:"x²/2 + C", hint:"Power rule integral", explanation:"∫x dx = x²/2 + C.", category:"Math", level:"hard"},
    {question:"Solve quadratic: x²-5x+6=0", options:["2 or 3","1 or 6","2 or 4","3 or 5"], answer:"2 or 3", hint:"Factorization", explanation:"x²-5x+6=(x-2)(x-3)", category:"Math", level:"hard"},
    {question:"Derivative of e^x?", options:["e^x","x","ln x","e"], answer:"e^x", hint:"Exponential function", explanation:"d/dx e^x = e^x.", category:"Math", level:"hard"},
    {question:"Log2(32)?", options:["5","4","6","3"], answer:"5", hint:"2^5=32", explanation:"2^5=32, so log2(32)=5.", category:"Math", level:"hard"},

    /* ======================= General Knowledge - Easy (10) ======================= */
    {question:"Capital of France?", options:["Paris","Rome","London","Berlin"], answer:"Paris", hint:"City of Love", explanation:"Paris is the capital of France.", category:"General Knowledge", level:"easy"},
    {question:"Primary colors?", options:["Red, Blue, Yellow","Red, Green, Blue","Yellow, Green, Blue","Orange, Blue, Purple"], answer:"Red, Blue, Yellow", hint:"Used in painting", explanation:"Primary colors are Red, Blue, Yellow.", category:"General Knowledge", level:"easy"},
    {question:"How many continents?", options:["7","6","5","8"], answer:"7", hint:"Asia is largest", explanation:"There are 7 continents.", category:"General Knowledge", level:"easy"},
    {question:"Fastest land animal?", options:["Cheetah","Lion","Tiger","Leopard"], answer:"Cheetah", hint:"Spotted", explanation:"Cheetah is fastest land animal.", category:"General Knowledge", level:"easy"},
    {question:"Largest ocean?", options:["Pacific","Atlantic","Indian","Arctic"], answer:"Pacific", hint:"Covers most area", explanation:"Pacific Ocean is largest.", category:"General Knowledge", level:"easy"},
    {question:"Which planet has rings?", options:["Saturn","Mars","Earth","Venus"], answer:"Saturn", hint:"Iconic rings", explanation:"Saturn is famous for its rings.", category:"General Knowledge", level:"easy"},
    {question:"Currency of USA?", options:["Dollar","Euro","Pound","Yen"], answer:"Dollar", hint:"$ sign", explanation:"Dollar is currency of USA.", category:"General Knowledge", level:"easy"},
    {question:"Primary gas we breathe?", options:["Oxygen","Carbon Dioxide","Nitrogen","Hydrogen"], answer:"Oxygen", hint:"Needed to live", explanation:"Oxygen is essential for respiration.", category:"General Knowledge", level:"easy"},
    {question:"Largest planet?", options:["Jupiter","Saturn","Neptune","Earth"], answer:"Jupiter", hint:"Gas giant", explanation:"Jupiter is largest planet.", category:"General Knowledge", level:"easy"},
    {question:"Longest river?", options:["Nile","Amazon","Yangtze","Mississippi"], answer:"Nile", hint:"Africa", explanation:"Nile is longest river.", category:"General Knowledge", level:"easy"},

    /* ======================= General Knowledge - Medium (10) ======================= */
    {question:"Who wrote '1984'?", options:["George Orwell","Aldous Huxley","J.K. Rowling","Tolkien"], answer:"George Orwell", hint:"Dystopian novel", explanation:"George Orwell wrote '1984'.", category:"General Knowledge", level:"medium"},
    {question:"Currency of Japan?", options:["Yen","Dollar","Euro","Pound"], answer:"Yen", hint:"¥ symbol", explanation:"Japan uses Yen.", category:"General Knowledge", level:"medium"},
    {question:"Fastest bird?", options:["Peregrine Falcon","Eagle","Sparrow","Ostrich"], answer:"Peregrine Falcon", hint:"Dives at high speed", explanation:"Peregrine Falcon is fastest bird.", category:"General Knowledge", level:"medium"},
    {question:"Largest desert?", options:["Sahara","Gobi","Kalahari","Arctic"], answer:"Sahara", hint:"Africa", explanation:"Sahara is the largest hot desert.", category:"General Knowledge", level:"medium"},
    {question:"Which language has most native speakers?", options:["Mandarin","English","Hindi","Spanish"], answer:"Mandarin", hint:"China", explanation:"Mandarin has the most native speakers.", category:"General Knowledge", level:"medium"},
    {question:"Longest river in Asia?", options:["Yangtze","Ganges","Mekong","Indus"], answer:"Yangtze", hint:"China", explanation:"Yangtze is Asia's longest river.", category:"General Knowledge", level:"medium"},
    {question:"Largest mammal?", options:["Blue Whale","Elephant","Giraffe","Hippopotamus"], answer:"Blue Whale", hint:"Ocean giant", explanation:"Blue Whale is the largest mammal.", category:"General Knowledge", level:"medium"},
    {question:"Highest mountain?", options:["Mount Everest","K2","Kangchenjunga","Lhotse"], answer:"Mount Everest", hint:"Nepal/China border", explanation:"Mount Everest is tallest peak.", category:"General Knowledge", level:"medium"},
    {question:"Inventor of light bulb?", options:["Thomas Edison","Nikola Tesla","Alexander Bell","Benjamin Franklin"], answer:"Thomas Edison", hint:"Electric lamp", explanation:"Edison invented practical light bulb.", category:"General Knowledge", level:"medium"},
    {question:"Olympics held every?", options:["4 years","2 years","5 years","3 years"], answer:"4 years", hint:"Summer/Winter cycles", explanation:"Olympics are held every 4 years.", category:"General Knowledge", level:"medium"},

    /* ======================= General Knowledge - Hard (10) ======================= */
    {question:"Oldest university in the world?", options:["University of Bologna","Oxford","Harvard","Cambridge"], answer:"University of Bologna", hint:"Founded 1088", explanation:"University of Bologna is the oldest.", category:"General Knowledge", level:"hard"},
    {question:"Who invented the telephone?", options:["Alexander Graham Bell","Thomas Edison","Nikola Tesla","Guglielmo Marconi"], answer:"Alexander Graham Bell", hint:"1876", explanation:"Bell invented the telephone in 1876.", category:"General Knowledge", level:"hard"},
    {question:"Which planet has most moons?", options:["Saturn","Jupiter","Mars","Earth"], answer:"Saturn", hint:"Ringed planet", explanation:"Saturn has the most moons.", category:"General Knowledge", level:"hard"},
    {question:"Year first email sent?", options:["1971","1969","1980","1975"], answer:"1971", hint:"By Ray Tomlinson", explanation:"First email sent in 1971.", category:"General Knowledge", level:"hard"},
    {question:"First artificial satellite?", options:["Sputnik 1","Explorer 1","Voyager 1","Hubble"], answer:"Sputnik 1", hint:"USSR 1957", explanation:"Sputnik 1 was launched by USSR in 1957.", category:"General Knowledge", level:"hard"},
    {question:"Capital of Australia?", options:["Canberra","Sydney","Melbourne","Perth"], answer:"Canberra", hint:"Not Sydney or Melbourne", explanation:"Canberra is Australia's capital.", category:"General Knowledge", level:"hard"},
    {question:"Fastest growing plant?", options:["Bamboo","Sunflower","Cactus","Grass"], answer:"Bamboo", hint:"Grows very tall quickly", explanation:"Bamboo is fastest growing plant.", category:"General Knowledge", level:"hard"},
    {question:"Longest reigning British monarch?", options:["Queen Elizabeth II","Victoria","George III","Henry VIII"], answer:"Queen Elizabeth II", hint:"Second half 20th century", explanation:"Elizabeth II reigned 70 years.", category:"General Knowledge", level:"hard"},
    {question:"Nobel Prize founder?", options:["Alfred Nobel","Marie Curie","Einstein","Tesla"], answer:"Alfred Nobel", hint:"Dynamite inventor", explanation:"Alfred Nobel established Nobel Prize.", category:"General Knowledge", level:"hard"},
    {question:"First country to give women voting rights?", options:["New Zealand","USA","UK","France"], answer:"New Zealand", hint:"19th century", explanation:"New Zealand allowed women to vote in 1893.", category:"General Knowledge", level:"hard"},

];

let filteredData = [];
let currentQuestionIndex = 0;
let timer;
let timePerQuestion = 60;

// DOM Elements
const startBtn = document.getElementById('startBtn');
const subjectSelect = document.getElementById('subjectSelect');
const levelSelect = document.getElementById('levelSelect');
const usernameInput = document.getElementById('username');

const startScreen = document.querySelector('.start-screen');
const quizScreen = document.querySelector('.quiz-screen');
const playerNameEl = document.getElementById('playerName');

const questionEl = document.getElementById('question');
const optionsEl = document.getElementById('options');
const hintEl = document.getElementById('hint');
const explanationEl = document.getElementById('explanation');
const progressFill = document.getElementById('progressFill');
const timerEl = document.getElementById('timer');
const nextBtn = document.getElementById('nextBtn');

// ===== Start Quiz =====
startBtn.addEventListener('click', ()=>{
  let username = usernameInput.value.trim();
  if(!username){
    alert("Please enter your name!");
    return;
  }

  const selectedSubject = subjectSelect.value;
  const selectedLevel = levelSelect.value;

  filteredData = quizData.filter(q=>{
    let subjectCheck = selectedSubject === 'All' ? true : q.category === selectedSubject;
    let levelCheck = selectedLevel === 'All' ? true : q.level === selectedLevel;
    return subjectCheck && levelCheck;
  });

  if(filteredData.length === 0){
    alert("No questions found for selected category/level!");
    return;
  }

  filteredData = filteredData.sort(()=> Math.random()-0.5);
  currentQuestionIndex = 0;

  playerNameEl.innerText = username;
  startScreen.style.display = 'none';
  quizScreen.style.display = 'block';

  loadQuestion();
});

// ===== Load Question =====
function loadQuestion(){
  clearInterval(timer);
  let q = filteredData[currentQuestionIndex];
  questionEl.innerText = q.question;

  // Show hint immediately
  hintEl.innerText = "💡 Hint: " + q.hint;
  explanationEl.innerText = "";

  // Shuffle options
  let shuffledOptions = q.options.sort(()=>Math.random()-0.5);
  optionsEl.innerHTML = '';

  shuffledOptions.forEach(opt=>{
    let li = document.createElement('li');
    li.innerText = opt;
    li.addEventListener('click', ()=>selectOption(li, q));
    optionsEl.appendChild(li);
  });

  // Update progress bar
  progressFill.style.width = ((currentQuestionIndex+1)/filteredData.length)*100 + "%";

  // Start timer
  let timeLeft = timePerQuestion;
  timerEl.innerText = timeLeft;
  timer = setInterval(()=>{
    timeLeft--;
    timerEl.innerText = timeLeft;
    if(timeLeft <=0){
      clearInterval(timer);
      showAnswer(q);
    }
  },1000);
}

// ===== Select Option =====
function selectOption(li, q){
  clearInterval(timer);
  let correct = li.innerText === q.answer;
  if(correct){
    li.style.background = '#17e91e9d';
  } else{
    li.style.background = '#ea463aa1';
  }
  showAnswer(q);
}

// ===== Show Hint & Explanation =====
function showAnswer(q){
  // Hint is already displayed. Explanation appears after selection or timer.
  explanationEl.innerText = "📝 Explanation: " + q.explanation;
}

// ===== Next Button =====
nextBtn.addEventListener('click', ()=>{
  if(currentQuestionIndex < filteredData.length-1){
    currentQuestionIndex++;
    loadQuestion();
  } else{
    alert("🎉 Quiz Completed!");
    location.reload();
  }
});
